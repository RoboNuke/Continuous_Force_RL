
# Experiment metadata
experiment:
  name: "std_1_test"
  tags: []
  group: "std_1_test"
  wandb_project: "hybrid_action_tests"

primary:
  ckpt_tracker_path: "/nfs/stak/users/brownhun/hybrid_action_test_tracker.txt"
  agents_per_break_force: 3
  break_forces: [20]
  max_steps: 2000000
  seed: 42

# Enable hybrid control wrapper and related systems
wrappers:
  # Enable hybrid control wrapper
  hybrid_control:
    enabled: true
    # ctrl_torque will be computed from primary config automatically
    reward_type: "none"  # Simple reward structure to start

environment:
  # Control configuration (will be merged into Isaac Lab's ctrl config)
  # These parameters will be applied to the ExtendedCtrlCfg
  ctrl:
    force_action_bounds: [50.0, 50.0, 50.0]
    torque_action_bounds: [0.5, 0.5, 0.5]
    force_action_threshold: [10.0, 10.0, 10.0]
    torque_action_threshold: [0.1, 0.1, 0.1]
    default_task_force_gains: [0.1, 0.1, 0.1, 0.001, 0.001, 0.001]

  hybrid_task:
    force_active_threshold: 0.1
    torque_active_threshold: 0.01
    good_force_cmd_rew: 0.1
    bad_force_cmd_rew: -0.1
    wrench_norm_scale: 0.01

# Model configuration for hybrid agent
model:
  use_hybrid_agent: false
  critic_output_init_mean: 40  # Higher initial value estimate for complex task

  # Hybrid agent specific parameters
  hybrid_agent:
    ctrl_torque: false  # Match primary.ctrl_torque
    unit_std_init: false
    pos_init_std: 1.0
    rot_init_std: 1.0
    force_init_std: 1.0

    # Output scaling
    pos_scale: 1.0
    rot_scale: 1.0
    force_scale: 1.0
    torque_scale: 1.0

    # Selection network adjustments
    selection_adjustment_types: ['init_bias']

    # scale on selection parameters only
    init_scale_weights_factor: 0.1

    # bias on selection parameters
    init_bias: -2.5

    # adds scale layer if adj has scale_zin
    pre_layer_scale_factor: 0.1

    # scale the weight layer at the end
    init_scale_last_layer: false
    init_layer_scale: 1.0
    uniform_sampling_rate: 0.0
