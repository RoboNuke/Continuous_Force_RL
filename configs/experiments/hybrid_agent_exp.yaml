# Hybrid Agent Control Experiment Configuration 

# Base configuration to inherit from
base_config: "configs/base/PiH_base.yaml"


# Environment overrides for hybrid control
environment:
  # Control configuration (will be merged into Isaac Lab's ctrl config)
  # These parameters will be applied to the ExtendedCtrlCfg
  ctrl:
    force_action_bounds: [50.0, 50.0, 50.0]
    torque_action_bounds: [0.5, 0.5, 0.5]
    force_action_threshold: [10.0, 10.0, 10.0]
    torque_action_threshold: [0.1, 0.1, 0.1]
    default_task_force_gains: [0.1, 0.1, 0.1, 0.001, 0.001, 0.001]

# Model configuration for hybrid agent
model:
  use_hybrid_agent: true
  critic_output_init_mean: 60  # Higher initial value estimate for complex task

  # Hybrid agent specific parameters
  hybrid_agent:
    ctrl_torque: false  # Match primary.ctrl_torque
    unit_std_init: true
    pos_init_std: 1.0
    rot_init_std: 1.0
    force_init_std: 1.0

    # Output scaling
    pos_scale: 1.0
    rot_scale: 1.0
    force_scale: 1.0
    torque_scale: 1.0

    # Selection network adjustments
    selection_adjustment_types: ['none']
    init_scale_weights_factor: 0.1
    init_bias: -2.5
    pre_layer_scale_factor: 0.1
    init_scale_last_layer: true
    init_layer_scale: 1.0
    uniform_sampling_rate: 0.0

# Enable hybrid control wrapper and related systems
wrappers:
  # Enable force-torque sensor for hybrid control
  force_torque_sensor:
    enabled: true

  # Enable hybrid control wrapper
  hybrid_control:
    enabled: true
    # ctrl_torque will be computed from primary config automatically
    reward_type: "simp"  # Simple reward structure to start

# Experiment metadata
experiment:
  name: "hybrid_agent_exp"
  tags: []
  group: "hybrid_agent_exps"